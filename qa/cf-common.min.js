!function(){try{let n={init:()=>{n.getOrderForm(),n.handleNewsLetterForm(),n.removeLiCommentInAllShelfs(),n.triggerTotalItemsOrderForm(),n.toggleMenuMobile(),n.seeAllButtonMenu(),$(window).width()<=991&&n.toggleActiveSubmenus()},ajaxStop:()=>{},data:{categories:null},regex:{domain:/\/https:\/\/casaflora.vtexcommercestable.com.br/g},getOrderForm:()=>{vtexjs.checkout.getOrderForm().done(function(e){n.totalItemsOrderForm(e)})},toggleActiveSubmenus:()=>{$(".cf-header__menu.list").find("ul").slideUp(),$(".icon-arrow").on("click",function(){$(this).parent().parent().is(":not(.active)")?$(this).parent().parent().addClass("active").find(" > ul").slideDown("slow"):$(this).parent().parent().removeClass("active").find(" > ul").slideUp("slow")})},toggleMenuMobile:()=>{$(".header__menu-icon").on("click",function(){$(".cf-header__list-mobile").addClass("active"),$("body").addClass("overflowed")}),$(".cf-header__list-mobileClose").on("click",function(){$(".cf-header__list-mobile").removeClass("active"),$("body").removeClass("overflowed")})},totalItemsOrderForm:n=>{if(n.items.length){let e=$(".button__minicart-qty"),t=0;n.items.forEach(e=>{t+=e.quantity}),e.text(t)}},triggerTotalItemsOrderForm:()=>{$(window).on("orderFormUpdated.vtex",function(e,t){n.totalItemsOrderForm(t)})},seeAllButtonMenu:()=>{$('.main-link:not([href="/alimentos"])').next().find(".sublist-second").each(function(){var e=$(this).prev("a").attr("href");0!==$(this).has("li").length&&(e=`\n                                <li class="sublink-second">\n                                    <a class="verTodos" href="${e}">\n                                    <strong>Ver todos</strong>\n                                    </a>\n                                </li>`,$(this).append(e))})},handleNewsLetterForm:()=>{var e=document.querySelector("#newsletter-form");null!=e&&e.addEventListener("submit",function(e){e.preventDefault();var e=e.target.querySelectorAll("input[name]"),t={};e.forEach(function(e){t[e.name]=e.value}),n.sendForm(t).done(function(e){swal({title:"Formulario enviado com sucesso!",icon:"success"}).then(()=>{location.reload()})})},!1)},sendForm:function(e){e={type:"PATCH",url:"/api/dataentities/NL/documents",dataType:"json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},data:JSON.stringify(e)};return $.ajax(e)},removeLiCommentInAllShelfs:()=>{let e=$(".prateleira ul");e.length&&e.find("li[id]").each(function(){$(this).remove()})}};$(document).ready(n.init),$(document).ajaxStop(n.ajaxStop)}catch(e){console.log("Erro na inst√¢ncia do [Common]: ",e)}}();