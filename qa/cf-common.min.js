!function(){try{let s={init:()=>{s.bringCategories(),s.toggleMenuMobile()},ajaxStop:()=>{},data:{categories:null},regex:{domain:/\/https:\/\/casaflora.vtexcommercestable.com.br/g},bringCategories:()=>{$.ajax({type:"GET",url:"/api/catalog_system/pub/category/tree/3/",dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"}}).done(function(e){s.data.categories=e,s.buildList(),$(window).width()<=991&&(s.checkIfElementHasAKid(),s.toggleActiveSubmenus())})},buildList:()=>{let e=s.data.categories,a=$(".cf-header__menu.list"),i="",n=/https:\/\/casaflora.vtexcommercestable.com.br/g;e.map(e=>{let a=s.buildFirstSubList(e),l="";$(a).length&&(l=a);e=`\n                        <li class="mainli">\n                            <a class="main-link" href=${e.url.replace(n,"")}>${e.name}</a>\n                            ${l}\n                        </li>\n                    `;i+=e}),a.html(i)},buildFirstSubList:e=>{if(e.hasChildren){let i="",n=/https:\/\/casaflora.vtexcommercestable.com.br/g;return e.children.map(e=>{let a=s.buildSecondSubList(e),l="";$(a).length&&(l=a);e=`\n                            <li class="sublink-first">\n                                <a href="${e.url.replace(n,"")}">${e.name}</a>\n                                ${l}\n                            </li>\n                        `;i+=e}),`<ul class="sublist-first">${i}</ul>`}},buildSecondSubList:i=>{if(i.hasChildren){let a="",l=/https:\/\/casaflora.vtexcommercestable.com.br/g;i.children.map(e=>{i.name!==e.name&&(e=`\n                            <li class="sublink-second">\n                                <a href="${e.url.replace(l,"")}">${e.name}</a>\n                            </li>\n                        `,a+=e)});var e=`<ul class="sublist-second">${a}</ul>`;if('<ul class="sublist-second"></ul>'!=e)return e}},checkIfElementHasAKid:()=>{$(".main-link").find("+ ul").prev().addClass("hasUl").wrap('<div class="dropdown-wrapper"></div>').parent().append('<i class="icon-arrow">'),$(".sublink-first:not(hasUl) > ul").parent().addClass("hasUl").find("> a").wrap('<div class="dropdown-wrapper"></div>').parent().append('<i class="icon-arrow">')},toggleActiveSubmenus:()=>{$(".cf-header__menu.list").find("ul").slideUp(),$(".icon-arrow").on("click",function(){$(this).parent().parent().is(":not(.active)")?$(this).parent().parent().addClass("active").find(" > ul").slideDown("slow"):$(this).parent().parent().removeClass("active").find(" > ul").slideUp("slow")})},toggleMenuMobile:()=>{$(".header__menu-icon").on("click",function(){$(".cf-header__list-mobile").addClass("active"),$("body").addClass("overflowed")}),$(".cf-header__list-mobileClose").on("click",function(){$(".cf-header__list-mobile").removeClass("active"),$("body").removeClass("overflowed")})}};$(document).ready(s.init),$(document).ajaxStop(s.ajaxStop)}catch(e){console.log("Erro na inst√¢ncia do [Common]: ",e)}}();