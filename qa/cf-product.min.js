!function(){try{let n={init:()=>{n.setAvailableBodyClass(),n.enableShipping(),n.getDataProduct(),n.toggleCart(),n.addCartVisualization(),n.controlBtnsQuantity(),n.buildFlags()},ajaxStop:()=>{},data:{id:$("#___rc-p-id").val(),response:null},regex:{qtt:/qty=\d+/g},setAvailableBodyClass:()=>{function e(t){t?$(document.body).addClass("cf-product-available").removeClass("cf-product-unavailable"):$(document.body).addClass("cf-product-unavailable").removeClass("cf-product-available")}$(document).on("skuSelected.vtex",function(t,a,s){e(s.available)}),e(skuJson.available)},enableShipping:()=>{"function"==typeof window.ShippingValue&&window.ShippingValue()},getDataProduct:()=>{$.ajax({type:"GET",url:`/api/catalog_system/pub/products/search/?fq=productId:${n.data.id}`,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"}}).done(function(t){n.data.response=t[0],n.buildListDescriptions(),n.buildListSensorial(),n.buildBrandCountry()})},buildListDescriptions:()=>{let s=[],t=n.data.response.Tipo;null!=t&&"NAO INFORMADO"!=t&&s.push({text:t,class:"tipo"});var a=n.data.response.Regiao;null!=a&&"NAO INFORMADO"!=a&&s.push({text:a,class:"regiao"});a=n.data.response.Produtor;null!=a&&"NAO INFORMADO"!=a&&s.push({text:a,class:"produtor"});a=n.data.response["Teor Alcolico"];null!=a&&"NAO INFORMADO"!=a&&s.push({text:a,class:"teor"});a=n.data.response.Volume;null!=a&&"NAO INFORMADO"!=a&&s.push({text:a,class:"volume"});a=n.data.response.Safra;null!=a&&"NAO INFORMADO"!=a&&s.push({text:a,class:"safra"});a=n.data.response["Temperatura Ideal"];null!=a&&"NAO INFORMADO"!=a&&s.push({text:a,class:"temperatura"});a=n.data.response.Classificacao;if(null!=a&&"NAO INFORMADO"!=a&&s.push({text:a,class:"classificacao"}),0==s.length)n.verifyWineContent();else{let t=$("#cf-p-desription--features"),a="";s.map(t=>{t=`\n                            <li class="desc-li ${t.class}">\n                                <div class="desc-li-left">\n                                    <span class="desc-image"></span>\n                                </div>\n                                <div class="desc-li-right">\n                                    <span class="desc-title">${t.class}</span>\n                                    <span class="desc-text">${t.text[0]}</span>\n                                </div>\n                            </li>\n                        `;a+=t}),t.html(a)}},buildListSensorial:()=>{let s=[],t=n.data.response["Analise Visual"];null!=t&&"NAO INFORMADO"!=t&&s.push({text:t,class:"visual",img:"visual"});var a=n.data.response["Analise Gustativa"];if(null!=a&&"NAO INFORMADO"!=a&&s.push({text:a,class:"gustativo",img:"gustativo"}),0==s.length)$(".cf-product.sensorial").hide();else{let t=$("#cf-p-sensorial--list"),a="";s.map(t=>{t=`\n                            <li>\n                                <img src="https://casaflora.vteximg.com.br/arquivos/${t.img}.png" />\n                                <strong>${t.class}</strong>\n                                <span>${t.text}</span>                \n                            </li>\n                        `;a+=t}),t.html(a)}},verifyWineContent:()=>{let t=$("#cf-p-description--commentary"),a=$("#cf-p-description--boxes"),s=t.find(".productDescription"),e=t.find("h3");a.hide(),e.hide(),t.attr("class","col-xs-12 col-sm-12 col-md-12"),s.addClass("width-full")},toggleCart:()=>{let t=$("#cf-p-btncart"),a=$("#cf-cart-continue-buy");t.on("click",function(){$(document.body).addClass("cf-cartvis-on")}),a.on("click",function(){$(document.body).removeClass("cf-cartvis-on")})},addCartVisualization:()=>{$("#cf-p-btncart").on("click",()=>{console.log("Clicado!!");var t=$("#cf-p-qtt-input").val(),a=$("#calculoFrete").attr("seller"),a={id:parseInt(n.data.id),quantity:parseInt(t),seller:parseInt(a)};vtexjs.checkout.addToCart([a],null,1).done(function(t){$(document.body).addClass("cf-cartvis-on")})})},controlBtnsQuantity:()=>{let t=$(".buttons.quantity"),a=t.find(".btn-qtt-less"),s=t.find(".btn-qtt-more"),e=t.find("#cf-p-qtt-input");a.on("click",()=>{var t=e.val();1!=t&&(t--,e.val(t),n.changeValueBuyButton(t))}),s.on("click",()=>{var t=e.val();t++,e.val(t),n.changeValueBuyButton(t)})},changeValueBuyButton:s=>{if($(".buy-button.buy-button-ref").length){let t=$(".buy-button.buy-button-ref"),a=t.attr("href");a=a.replace(n.regex.qtt,`qty=${s}`),t.attr("href",a)}},buildFlags:()=>{let a=$(".cf-product.image .list-flags");if(a.find("[class*='desconto-']").length){let t=a.find("[class*='desconto-']").text();t=t.replace(/desconto-/g,""),t=`${t}% <strong>OFF</strong>`,a.find("[class*='desconto-']").html(t)}},buildBrandCountry:()=>{if(n.data.response["País"]){var s=$(".cf-product.image #show");console.log(s);let t=n.data.response["País"][0],a=t.toLowerCase();$(`\n                        <div class="country-wrapper">\n                            <span class="country-image country-brand-${a}"></span>\n                            <span class="country-name">${t}</span>\n                        </div>\n                    `).appendTo(s)}}};$(document).ready(n.init),$(document).ajaxStop(n.ajaxStop)}catch(t){console.log("Erro na instância do [Product]: ",t)}}();